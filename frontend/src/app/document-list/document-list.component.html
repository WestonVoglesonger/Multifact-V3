<div class="bg-white shadow rounded p-6">
  <h2 class="text-2xl font-semibold mb-4 text-gray-800">All Documents</h2>

  <!-- Loading Indicator -->
  <div *ngIf="loading" class="flex justify-center items-center">
    <div
      class="loader ease-linear rounded-full border-4 border-t-4 border-gray-200 h-12 w-12"
    ></div>
    <span class="ml-4 text-gray-600">Loading...</span>
  </div>

  <!-- Error Message -->
  <div *ngIf="error" class="text-red-500 mb-4">
    {{ error }}
  </div>

  <!-- Documents List -->
  <div *ngIf="!loading && documents.length > 0" class="space-y-4">
    <div
      *ngFor="let doc of documents"
      class="p-4 bg-gray-50 rounded-lg shadow hover:bg-blue-50 cursor-pointer transition duration-200"
      (click)="selectDocument(doc.id)"
    >
      <div class="flex justify-between items-center">
        <div class="text-lg font-medium text-gray-800">
          Document #{{ doc.id }}{{ doc.version ? " - " + doc.version : "" }}
        </div>
        <span class="text-sm text-gray-500">
          {{ doc.created_at | date: "short" }}
        </span>
      </div>
      <p class="text-gray-700 mt-2 truncate">{{ doc.content }}</p>
    </div>
  </div>

  <div *ngIf="!loading && documents.length === 0" class="text-gray-500">
    No documents found.
  </div>
</div>

<!-- Loader Styles (Add to styles.scss or a global stylesheet) -->
<style>
  .loader {
    border-top-color: #3498db;
    animation: spinner 1.5s linear infinite;
  }

  @keyframes spinner {
    to {
      transform: rotate(360deg);
    }
  }
</style>
